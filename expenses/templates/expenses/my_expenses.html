{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}
{% load custom_filters_exp %}
{% load dict_extras_exp %}

{% block title %}My Expenses{% endblock %}

{% block content %}
<div class="container mt-4">

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <!-- Removed old top form block -->

  <!-- Tab Headers -->
  <ul class="nav nav-tabs" id="expenseTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <a class="nav-link active" id="new-tab" data-bs-toggle="tab" href="#new" role="tab">New Expense</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="submitted-tab" data-bs-toggle="tab" href="#submitted" role="tab">Submitted</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="approved-tab" data-bs-toggle="tab" href="#approved" role="tab">Approved</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="settled-tab" data-bs-toggle="tab" href="#settled" role="tab">Settled</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="rejected-tab" data-bs-toggle="tab" href="#rejected" role="tab">Rejected</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="da-tab" data-bs-toggle="tab" href="#da" role="tab">Daily Allowance</a>
    </li>
    <li class="nav-item" role="presentation">
      <a class="nav-link" id="advance-tab" data-bs-toggle="tab" href="#advance" role="tab">Advance Requests</a>
    </li>
  </ul>

  <!-- Tab Contents -->
  <div class="tab-content mt-3" id="expenseTabContent">

    <div class="tab-pane fade show active" id="new" role="tabpanel">
      {% include "expenses/tabs/new_expense.html" %}
    </div>

    <div class="tab-pane fade" id="submitted" role="tabpanel">
      {% include "expenses/tabs/submitted.html" %}
    </div>

    <div class="tab-pane fade" id="approved" role="tabpanel">
      {% include "expenses/tabs/approved.html" %}
    </div>

    <div class="tab-pane fade" id="settled" role="tabpanel">
      {% include "expenses/tabs/settled.html" %}
    </div>

    <div class="tab-pane fade" id="rejected" role="tabpanel">
      {% include "expenses/tabs/rejected.html" %}
    </div>

    <div class="tab-pane fade" id="da" role="tabpanel">
      {% include "expenses/tabs/da.html" %}
    </div>

    <div class="tab-pane fade" id="advance" role="tabpanel">
      {% include "expenses/tabs/advance.html" %}
    </div>

  </div>

</div>
{% endblock %}
